# 🎮 游戏规则说明

## 核心规则

### 1. 一次填写，只能抽一张卡 🎴

**规则详情**：
- 每次填写回答（≥100字）后，进入抽卡页面
- 在抽卡页面**只能抽取一张卡片**
- 抽完卡片后，自动返回问答页面
- 必须完成新的回答，才能再次抽卡

**为什么这样设计？**
- 鼓励更频繁地记录心情
- 每次回答对应一个回忆
- 避免一次性抽完所有卡片
- 让每次抽卡都更有期待感

**流程示例**：
```
第一次：
写回答(100字+) → 进入抽卡页 → 抽取一张卡 → 自动返回首页

第二次：
写回答(100字+) → 进入抽卡页 → 抽取一张卡 → 自动返回首页

...依此类推
```

### 2. 每次回到界面，问题都会改变 🔄

**规则详情**：
- 首次打开页面：随机生成一个问题
- 抽卡后返回：生成新的问题
- 查看历史后返回：生成新的问题
- 每次都是26个问题中随机选择

**为什么这样设计？**
- 保持新鲜感
- 从不同角度思考感情
- 避免重复回答同一个问题
- 激发更多的表达欲望

**问题类型分布**：
- 当下心情 (40%) - 今天的感受
- 回忆时刻 (30%) - 过去的美好
- 未来期待 (20%) - 想一起做的事
- 深层感悟 (10%) - 对关系的思考

## 🎯 游戏流程

### 完整的一次游戏循环

```
1. 看到随机问题
   ↓
2. 写下至少100字的回答
   ↓
3. 字数达标，按钮亮起
   ↓
4. 点击"提交并抽卡"
   ↓
5. 进入抽卡页面（三个盲盒）
   ↓
6. 选择一个盲盒并点击
   ↓
7. 看到抽中的卡片内容
   ↓
8. 点击"完成，开始下一个回答"
   ↓
9. 自动返回问答页面
   ↓
10. 看到全新的问题，开始下一轮 🔄
```

## 🚫 限制说明

### 抽卡限制

**场景1：尝试重复抽卡**
```
你：写完回答 → 抽了开心时刻的卡
你：尝试再点击小摩擦的盲盒
系统：❌ "本次已经抽过卡啦！请先完成新的回答 😊"
```

**场景2：返回首页没抽卡**
```
你：写完回答 → 进入抽卡页面 → 点击"返回首页"
系统：⚠️ "还没有抽卡哦，确定要返回吗？"
你：确定
系统：✅ 返回首页，生成新问题，可以重新开始
```

### 字数限制

**场景：字数不够**
```
你：写了50个字 → 点击提交按钮
按钮：🔒 禁用状态（灰色）
提示："还差 50 字就可以抽卡"
```

**场景：字数达标**
```
你：写了100个字+
按钮：✨ 亮起（蓝色，带脉动效果）
提示："太棒了！可以抽卡了 ✨"
```

## 📊 进度系统

### 总进度
```
页面顶部显示：已收集：5/22 💝
进度条：蓝色进度条显示完成度
```

### 分类进度
```
开心时刻 [2/8]
小摩擦   [1/6]
新发现   [2/8]
```

**注意**：即使抽到重复的卡片，也只计算一次进度。

## 🎁 卡片内容

### 三种类型

#### 🎁 开心时刻（橙黄色渐变）
- 共8张卡片
- 记录温暖和快乐的瞬间
- 例如：机场接机、工作日带花、陪伴加班...

#### 💙 小摩擦（紫色渐变）
- 共6张卡片
- 记录磕磕碰碰的时刻
- 例如：周末计划不确定、国庆安排差异...

#### ✨ 新发现（青绿色渐变）
- 共8张卡片
- 记录对彼此的新认识
- 例如：恋家程度差异、爱好偏好不同...

## 💡 游戏技巧

### 如何获得最佳体验

**1. 保持频率**
- 建议每天或每周固定时间写
- 不要一次性写很多次
- 让它成为一个仪式感的习惯

**2. 认真回答**
- 不要为了凑字数而灌水
- 真实表达当下的感受
- 100字其实不多，深入写很容易达到

**3. 收集卡片**
- 有意识地收集不同类型的卡片
- 看看哪个类别抽得最多
- 尝试集齐所有22张卡片

**4. 查看历史**
- 定期回顾之前的回答
- 看看自己和TA的成长
- 对比不同时期的心情变化

**5. 配置邮件**
- 设置邮件通知（见 EMAIL_SETUP.md）
- 实时收到对方的回答
- 增加互动和了解

## 🎯 成就目标

虽然目前没有成就系统，但可以自己设定目标：

- [ ] 连续写7天
- [ ] 连续写30天
- [ ] 写满100次
- [ ] 集齐所有开心时刻卡片
- [ ] 集齐所有22张卡片
- [ ] 写了超过200字的深度回答
- [ ] 看完对方的所有回答

## ⚙️ 技术细节

### 数据存储
- 所有回答存储在浏览器 localStorage
- 抽卡进度也保存在本地
- 不会丢失（除非清除浏览器数据）

### 随机算法
- 问题：加权随机（不同类型有不同概率）
- 卡片：完全随机（可能抽到重复的）

### 状态管理
- `hasDrawnCard`: 标记本次是否已抽卡
- `currentQuestion`: 当前显示的问题
- `currentAnswer`: 当前填写的回答
- 每次返回首页都会重置状态

## 🔄 重置功能

### 清空回答记录
```
历史记录页面 → 点击"清空记录" → 确认
结果：删除所有回答，但保留抽卡进度
```

### 完全重置
```
打开控制台(F12) → 输入：resetAllData()
结果：删除所有数据，从头开始
```

## 🎮 总结

**游戏的核心理念**：
- 🎯 **一次一卡** - 珍惜每一次抽卡机会
- 🔄 **问题常新** - 保持新鲜感
- 📝 **用心记录** - 真实表达内心
- 💝 **见证成长** - 积累感情的点滴

享受这个记录你们故事的旅程吧！💕

---

**更新日期**：2025-10-17  
**版本**：v1.1  
**新增功能**：一次一卡规则、问题自动更新

